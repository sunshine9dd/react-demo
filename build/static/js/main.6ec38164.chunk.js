(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{225:function(e,t,a){},249:function(e,t,a){e.exports=a(545)},254:function(e,t,a){},269:function(e,t,a){},336:function(e,t,a){},360:function(e,t,a){},370:function(e,t,a){},436:function(e,t,a){},479:function(e,t,a){},481:function(e,t,a){},487:function(e,t,a){},529:function(e,t,a){},532:function(e,t,a){},534:function(e,t,a){},536:function(e,t,a){},538:function(e,t,a){},540:function(e,t,a){},542:function(e,t,a){},545:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"loadingChangeData",function(){return yt}),a.d(n,"qiniuChangeData",function(){return Et});var i=a(1),s=a.n(i),r=a(7),o=a.n(r),l=(a(254),a(175),a(125)),c=a(18),u=a(19),m=a(22),d=a(20),p=a(21),h=(a(176),a(92)),g=(a(83),a(8)),f=(a(177),a(65)),b=(a(269),a(16)),v=a(127),y=s.a.createElement(f.a,{onClick:function(){sessionStorage.removeItem("fuRuiAccount"),sessionStorage.removeItem("fuRuiNavKey"),v.a.push("/"),window.location.reload()}},s.a.createElement(f.a.Item,{key:"0"},"\u9000\u51fa")),k=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={userName:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("fuRuiAccount");e?(e=JSON.parse(e)).account&&e.password&&this.setState({userName:e.userName}):this.props.history.push("/")}},{key:"render",value:function(){return s.a.createElement("div",{id:"headerTop"},s.a.createElement("h2",null,"\u798f\u745e\u81f3\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"),s.a.createElement(h.a,{overlay:y},s.a.createElement("div",{className:"ant-dropdown-link"},this.state.userName," ",s.a.createElement(g.a,{type:"caret-down"}))))}}]),t}(i.Component),E=Object(b.b)()(k),S=(a(336),a(546)),T=(a(43),a(10)),N=a(47),O=a.n(N);a(233);O.a.defaults.timeout=15e3,"furise.com"===window.location.hostname||"47.98.146.53"===window.location.hostname?O.a.defaults.baseURL="http://47.98.146.53:8110/":O.a.defaults.baseURL="http://116.62.63.151:8110/",console.log(window.location.hostname);O.a.interceptors.request.use(function(e){var t=sessionStorage.getItem("fuRuiAccessToken"),a=sessionStorage.getItem("fuRuiAccount");return t&&a&&(a=JSON.parse(a),e.headers.access_token=t,e.headers.access_token_user_id=a.id),e},function(e){return Promise.reject(e)}),O.a.interceptors.response.use(function(e){return function(){var e=sessionStorage.getItem("fuRuiAccessToken"),t=sessionStorage.getItem("fuRuiAccount");e&&t&&(t=JSON.parse(t),O.a.defaults.headers.common.access_token=e,O.a.defaults.headers.common.access_token_user_id=t.id)}(),1012===e.data.code?(T.a.error(e.data.msg),v.a.push("/"),e):0===e.data.code?(sessionStorage.setItem("fuRuiAccessToken",e.headers.access_token),e):(T.a.error(e.data.msg),e)},function(e){return Promise.reject({code:1012,msg:"\u8bf7\u6c42\u8d85\u65f6,\u8bf7\u7a0d\u540e\u91cd\u8bd5",error:e})});var w=function(e,t){return O.a.get(e,{params:t}).then(function(e){return e.data}).catch(function(e){return e})},C=function(e,t){return O.a.delete(e,t,{headers:{"Content-Type":"application/json"}}).then(function(e){return e.data}).catch(function(e){return e})},j=function(e,t){return O.a.post(e,JSON.stringify(t),{headers:{"Content-Type":"application/json"}}).then(function(e){return e.data}).catch(function(e){return e})},I=function(e){return w("api/v1/upload/qinNiu/info",e)},x=function(e){return w("api/v1/menu/query",e)},q=function(e){return j("api/v1/navigate/save",e)},L=function(e){return w("api/v1/navigate/info",e)},M=function(e){return C("api/v1/navigate/delete",e)},F=function(e){return w("api/v1/member/types",e)},U=function(e){return j("api/v1/member/save",e)},B=function(e){return w("api/v1/company/query",e)},V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={current:"/Home",menuList:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;sessionStorage.getItem("fuRuiAccount")&&x({}).then(function(t){0===t.code&&e.setState({menuList:t.data})});var t=this.props.pathName,a=sessionStorage.getItem("fuRuiNavKey"),n="";n=a||t,this.setState({current:n})}},{key:"menuClick",value:function(e){this.setState({current:e.key}),sessionStorage.setItem("fuRuiNavKey",e.key)}},{key:"render",value:function(){var e=[];return this.state.menuList.map(function(t){e.push(s.a.createElement(f.a.Item,{key:t.url},s.a.createElement(S.a,{to:t.url},t.menuName)))}),s.a.createElement("div",{id:"leftNav"},s.a.createElement(f.a,{mode:"inline",onClick:this.menuClick.bind(this),selectedKeys:[this.state.current],theme:"dark"},e))}}]),t}(i.Component),A=Object(b.b)()(V),z=(a(360),a(549)),R=a(548),H=(a(42),a(15)),D=(a(201),a(71)),P=(a(44),a(12)),J=(a(45),a(11)),_=(a(370),a(124)),K="LOADING_STATUS",Q="QINIU_STATUS";function X(e){return{type:K,data:{loadingStatus:e}}}function W(e){return{type:Q,data:{qiniuStatus:e}}}var Y=J.a.Item,G=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={valuePropName:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){document.title="\u767b\u5f55";var e=localStorage.getItem("fuRuiAccount");e&&(e=JSON.parse(e)).account&&e.password&&(this.props.form.setFieldsValue({account:e.account,password:e.password,agreement:!0}),this.setState({valuePropName:"checked"}))}},{key:"rsaFn",value:function(e){var t=new _.JSEncrypt;t.setPublicKey("MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKy3VA7wu/gU1J6ajXn5iXVygHZ3ikTiUPrrYZhYrr1KfXFuBC/nCMIxUGFcIHcvKWPr2RPu1iyq0a9WuljHQckCAwEAAQ==");var a=t.encrypt(e);return a=encodeURIComponent(a)}},{key:"handleSubmit",value:function(e){var t=this,a=this;e.preventDefault(),this.props.form.validateFields(function(e,n){if(!e){var i,s={account:n.account,password:t.rsaFn(n.password)};a.props.dispatch(X(!0)),(i=s,j("api/v1/user/login",i)).then(function(e){0===e.code?(e.data.password=n.password,sessionStorage.setItem("fuRuiAccount",JSON.stringify(e.data)),I().then(function(i){0===i.code?(a.props.dispatch(X(!1)),e.data.qiniuHost=i.data.host+"/",e.data.qiniuToken=i.data.token,sessionStorage.setItem("fuRuiAccount",JSON.stringify(e.data)),sessionStorage.removeItem("fuRuiNavKey"),n.agreement?localStorage.setItem("fuRuiAccount",JSON.stringify(e.data)):localStorage.removeItem("fuRuiAccount"),t.props.history.push("/Home")):a.props.dispatch(X(!1))})):a.props.dispatch(X(!1))})}})}},{key:"render",value:function(){var e=this.props.form.getFieldProps;return s.a.createElement("div",{className:"loginBox"},s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"box"},s.a.createElement("h2",null,"\u798f\u745e\u81f3\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"),s.a.createElement(J.a,{horizontal:"true"},s.a.createElement(Y,{label:"\u8d26\u6237"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u8d26\u6237\u540d"},e("account",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(Y,{label:"\u5bc6\u7801"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"},e("password",{rules:[{required:!0,min:6,message:"\u81f3\u5c11\u8f93\u51656\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(Y,null,s.a.createElement(D.a,e("agreement",{valuePropName:this.state.valuePropName}),"\u8bb0\u4f4f\u5bc6\u7801")),s.a.createElement(Y,{wrapperCol:{span:12,offset:7}},s.a.createElement(H.a,{onClick:this.handleSubmit.bind(this),type:"primary"},"\u786e\u5b9a"))))))}}]),t}(i.Component);G=J.a.create()(G);var Z=Object(b.b)()(G),$=(a(90),a(49)),ee=(a(70),a(40)),te=(a(69),a(34)),ae=(a(436),J.a.Item),ne=te.a.confirm,ie=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={modalVisible:!1,modalTitle:"\u7f16\u8f91\u83dc\u5355",id:"",data:[],columns:[{title:"\u83dc\u5355\u540d\u79f0",dataIndex:"menuName",key:"0"},{title:"\u83dc\u5355\u8def\u5f84",dataIndex:"url",key:"1"},{title:"\u6392\u5e8f",dataIndex:"sort",key:"2"},{title:"\u64cd\u4f5c",key:"3"}],paginationShow:!1,loading:!1},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getMenuList()}},{key:"getMenuList",value:function(){var e=this;e.setState({loading:!0}),x({}).then(function(t){if(0===t.code){for(var a in t.data)t.data[a].key=a;e.setState({loading:!1,data:t.data})}})}},{key:"setModalVisible",value:function(){this.setState({modalVisible:!1,id:""})}},{key:"addMenu",value:function(){this.props.form.resetFields(),this.setState({modalVisible:!0,id:"",modalTitle:"\u589e\u52a0\u83dc\u5355"})}},{key:"editMenu",value:function(e){var t,a=this;(t={id:e},w("api/v1/menu/info",t)).then(function(t){0===t.code&&(a.setState({modalVisible:!0,id:e,modalTitle:"\u4fee\u6539\u83dc\u5355"}),a.props.form.setFieldsValue({menuName:t.data.menuName,sort:t.data.sort,url:t.data.url}))})}},{key:"deleteMenu",value:function(e){ne({title:"\u60a8\u786e\u8ba4\u8981\u5220\u9664"+e.menuName+"\u5417?",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onOk:function(){var t;(t={data:{id:e.id}},C("api/v1/menu/delete",t)).then(function(e){0===e.code&&(T.a.success("\u5220\u9664\u6210\u529f\uff01"),setTimeout(function(){window.location.reload()},1e3))})}})}},{key:"confirmFn",value:function(){var e=this;this.props.form.validateFields(function(t,a){if(!t){var n,i={id:e.state.id,sort:a.sort,menuName:a.menuName,url:a.url,icon:""};e.props.dispatch(X(!0)),(n=i,j("api/v1/menu/save",n)).then(function(t){e.props.dispatch(X(!1)),0===t.code&&(T.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),e.setState({modalVisible:!1}),setTimeout(function(){window.location.reload()},1e3))})}})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldProps;return s.a.createElement("div",{className:"homeBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement("div",{className:"titleBox"}),s.a.createElement(ee.a,{columns:this.state.columns,dataSource:this.state.data,loading:this.state.loading,pagination:this.state.paginationShow})),s.a.createElement(te.a,{cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onCancel:function(){return e.setModalVisible()},onOk:function(){return e.confirmFn(!1)},title:this.state.modalTitle,visible:this.state.modalVisible,wrapClassName:"vertical-center-modal"},s.a.createElement(J.a,null,s.a.createElement(ae,{label:"\u83dc\u5355\u540d\u79f0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0"},t("menuName",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:20,message:"\u6700\u591a\u8f93\u516520\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(ae,{label:"\u83dc\u5355\u5730\u5740"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u5730\u5740"},t("url",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:100,message:"\u6700\u591a\u8f93\u5165100\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(ae,{label:"\u6392\u5e8f"},s.a.createElement($.a,Object.assign({className:"inputNum",min:1,max:100,placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f\u53f7\u7801"},t("sort",{rules:[{required:!0,message:"\u5fc5\u987b\u8f93\u5165\u6392\u5e8f\uff01"}]})))))))}}]),t}(i.Component);ie=J.a.create()(ie);var se=Object(b.b)()(ie),re=(a(476),a(173)),oe=a(17),le=(a(479),function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).showModal=function(){n.setState({visible:!0})},n.handleOk=function(){n.setState({ModalText:"The modal will be closed after two seconds",confirmLoading:!0}),setTimeout(function(){n.setState({visible:!1,confirmLoading:!1})},2e3)},n.handleCancel=function(){console.log("Clicked cancel button"),n.setState({visible:!1})},n.state={pageData:[],loading:!1,paginationData:{pageNo:1,pageSize:10,pageTotal:0},visible:!1,confirmLoading:!1,modelTitle:"\u67e5\u770b"},n.changePage=n.changePage.bind(Object(oe.a)(Object(oe.a)(n))),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.getCompanyList(this.state.paginationData.pageNo,this.state.paginationData.pageSize)}},{key:"changePage",value:function(e){this.getCompanyList(e,this.state.paginationData.pageSize)}},{key:"getCompanyList",value:function(e,t){var a=this;B({current:e,size:t}).then(function(e){if(a.setState({loading:!1}),0===e.code){var t={pageNo:e.data.pageNo,pageSize:a.state.paginationData.pageSize,pageTotal:e.data.totalCount};a.setState({pageData:e.data.list,paginationData:t})}})}},{key:"check",value:function(e){console.log("check",e),this.showModal()}},{key:"del",value:function(e){console.log("del",e)}},{key:"edit",value:function(e){console.log("edit",e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.confirmLoading,i=[{title:"\u516c\u53f8\u540d\u79f0",dataIndex:"companyName",key:"companyName"},{title:"\u5730\u5740",dataIndex:"address",key:"address"},{title:"\u516c\u53f8\u7b80\u4ecb",dataIndex:"companyProfile",key:"companyProfile",render:function(e){return s.a.createElement("div",{className:"companyText",title:e},e)}},{title:"\u516c\u53f8\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime"},{title:"\u4f20\u771f",key:"fax",dataIndex:"fax"},{title:"\u90ae\u7f16",key:"zipCode",dataIndex:"zipCode"},{title:"\u8054\u7cfb\u7535\u8bdd",key:"phoneNumber",dataIndex:"phoneNumber"},{title:"\u5907\u6ce8",key:"remarks",dataIndex:"remarks"},{title:"\u529e\u516c\u5730\u5740",key:"officeAddress",dataIndex:"officeAddress",render:function(e){return s.a.createElement("div",{className:"officeText"},e)}},{title:"logo",key:"logoUrl",render:function(e,t){return s.a.createElement("img",{className:"companyLogo",src:t.logoUrl})}},{title:"\u64cd\u4f5c",key:"action",render:function(t){return s.a.createElement("span",null,s.a.createElement("span",{className:"actionClass",onClick:e.check.bind(e,t.id)},"\u67e5\u770b"),s.a.createElement(re.a,{type:"vertical"}),s.a.createElement("span",{className:"actionClass",onClick:e.edit.bind(e,t.id)},"\u7f16\u8f91"),s.a.createElement(re.a,{type:"vertical"}),s.a.createElement("span",{className:"actionClass",onClick:e.del.bind(e,t.id)},"\u5220\u9664"))}}];return s.a.createElement("div",{className:"company"},s.a.createElement("div",{className:"contentBox"},s.a.createElement(ee.a,{columns:i,dataSource:this.state.pageData,loading:this.state.loading,pagination:{current:this.state.paginationData.pageNo,total:this.state.paginationData.pageTotal,onChange:this.changePage}})),s.a.createElement(te.a,{cancelText:"\u53d6\u6d88",confirmLoading:n,destroyOnClose:!1,okText:"\u786e\u8ba4",onCancel:this.handleCancel.bind(this),onOk:this.handleOk.bind(this),title:this.state.modelTitle,visible:a},s.a.createElement(J.a,null,s.a.createElement(J.a.Item,Object.assign({},{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}},{help:"Should be combination of numbers & alphabets",label:"Fail",validateStatus:"error"}),s.a.createElement(P.a,{id:"error",placeholder:"unavailable choice"})))))}}]),t}(i.Component)),ce=Object(b.b)()(le),ue=(a(80),a(29)),me=(a(481),J.a.Item),de=te.a.confirm,pe=ue.a.Option,he=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={modalVisible:!1,modalTitle:"\u7f16\u8f91\u53cb\u60c5\u94fe\u63a5",id:"",linkType:"COOPERATIVE_INSTITUTION",data:[],columns:[{title:"\u94fe\u63a5\u540d\u79f0",dataIndex:"linkName",key:"0"},{title:"\u94fe\u63a5\u8def\u5f84",dataIndex:"url",key:"1"},{title:"\u94fe\u63a5\u7c7b\u578b",key:"2",render:function(e){return s.a.createElement("div",null,"LINKS"===e.linkType?s.a.createElement("span",null,"\u53cb\u60c5\u94fe\u63a5"):s.a.createElement("span",null,"\u5408\u4f5c\u673a\u6784"))}},{title:"\u6392\u5e8f",dataIndex:"sort",key:"3"},{title:"\u64cd\u4f5c",key:"4",render:function(e){return s.a.createElement("div",null,s.a.createElement("a",{onClick:n.editMenu.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u7f16\u8f91")," ",s.a.createElement("a",{onClick:n.deleteMenu.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u5220\u9664"))}}],loading:!1,total:0,current:1,defaultCurrent:1,pageSize:10},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getLinksList(1)}},{key:"getLinksList",value:function(e){var t=this;t.setState({loading:!0});var a,n={linkType:"ALL",current:e,size:this.state.pageSize};(a=n,w("api/v1/links/query",a)).then(function(e){if(0===e.code){for(var a in e.data.list)e.data.list[a].key=a;t.setState({loading:!1,data:e.data.list,current:e.data.pageNo,pageSize:e.data.pageSize,total:e.data.totalCount})}})}},{key:"setModalVisible",value:function(){this.setState({modalVisible:!1,id:""})}},{key:"addMenu",value:function(){this.props.form.resetFields(),this.setState({modalVisible:!0,id:"",linkType:"COOPERATIVE_INSTITUTION",modalTitle:"\u589e\u52a0\u94fe\u63a5"})}},{key:"editMenu",value:function(e){this.setState({modalVisible:!0,id:e.id,linkType:e.linkType,modalTitle:"\u4fee\u6539\u94fe\u63a5"}),this.props.form.setFieldsValue({linkName:e.linkName,sort:e.sort,url:e.url})}},{key:"deleteMenu",value:function(e){var t=this;de({title:"\u60a8\u786e\u8ba4\u8981\u5220\u9664"+e.linkName+"\u5417?",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onOk:function(){var a;(a={data:{id:e.id}},C("api/v1/links/delete",a)).then(function(e){0===e.code&&(T.a.success("\u5220\u9664\u6210\u529f\uff01"),t.getLinksList(1))})}})}},{key:"confirmFn",value:function(){var e=this;this.props.form.validateFields(function(t,a){if(!t){var n,i={id:e.state.id,linkType:e.state.linkType,sort:a.sort,linkName:a.linkName,url:a.url,icon:""};e.props.dispatch(X(!0)),(n=i,j("api/v1/links/save",n)).then(function(t){e.props.dispatch(X(!1)),0===t.code&&(T.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),e.setState({modalVisible:!1}),e.getLinksList(1))})}})}},{key:"selectChange",value:function(e){this.setState({linkType:e})}},{key:"checkNetWorkFn",value:function(e,t,a){!/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)/.test(t)&&t?a([new Error("\u7f51\u5740\u683c\u5f0f\u9519\u8bef\uff01")]):a()}},{key:"render",value:function(){var e=this,t=this,a=this.props.form.getFieldProps,n=a("url",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{max:100,message:"\u6700\u591a\u8f93\u5165100\u4e2a\u5b57\u7b26\uff01"},{validator:this.checkNetWorkFn}]});return s.a.createElement("div",{className:"friendshipLinkBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement("div",{className:"titleBox"},s.a.createElement(H.a,{onClick:this.addMenu.bind(this),type:"primary"},"\u65b0\u589e\u94fe\u63a5")),s.a.createElement(ee.a,{columns:this.state.columns,dataSource:this.state.data,loading:this.state.loading,pagination:{showQuickJumper:!0,defaultCurrent:this.state.defaultCurrent,total:this.state.total,current:this.state.current,pageSize:this.state.pageSize,onChange:function(e){t.getLinksList(e)}}})),s.a.createElement(te.a,{cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onCancel:function(){return e.setModalVisible()},onOk:function(){return e.confirmFn(!1)},title:this.state.modalTitle,visible:this.state.modalVisible,wrapClassName:"vertical-center-modal"},s.a.createElement(J.a,null,s.a.createElement(me,{label:"\u94fe\u63a5\u540d\u79f0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u94fe\u63a5\u540d\u79f0"},a("linkName",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:20,message:"\u6700\u591a\u8f93\u516520\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(me,{label:"\u94fe\u63a5\u5730\u5740,\u5982(http://furise.com/)"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u94fe\u63a5\u5730\u5740,\u5982http://furise.com/"},n))),s.a.createElement(me,{label:"\u94fe\u63a5\u7c7b\u578b"},s.a.createElement(ue.a,{defaultValue:this.state.linkType,onChange:this.selectChange.bind(this),style:{width:200},value:this.state.linkType},s.a.createElement(pe,{value:"COOPERATIVE_INSTITUTION"},"\u5408\u4f5c\u673a\u6784"),s.a.createElement(pe,{value:"LINKS"},"\u53cb\u60c5\u94fe\u63a5"))),s.a.createElement(me,{label:"\u6392\u5e8f"},s.a.createElement($.a,Object.assign({className:"inputNum",min:1,max:100,placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f\u53f7\u7801"},a("sort",{rules:[{required:!0,message:"\u5fc5\u987b\u8f93\u5165\u6392\u5e8f\uff01"}]})))))))}}]),t}(i.Component);he=J.a.create()(he);var ge=Object(b.b)()(he),fe=(a(99),a(59)),be=(a(487),J.a.Item),ve=te.a.confirm,ye=ue.a.Option,ke=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={modalVisible:!1,modalTitle:"\u7f16\u8f91\u6210\u5458",id:"",memberImage:"",memberImageUrl:"",data:[],columns:[{title:"\u6210\u5458\u540d\u79f0",dataIndex:"memberName",key:"0"},{title:"\u6210\u5458\u56fe\u7247",key:"1",render:function(e){return s.a.createElement("img",{className:"memberCover",src:e.memberImageUrl})}},{title:"\u8df3\u8f6c\u8def\u5f84",dataIndex:"url",key:"2"},{title:"\u6210\u5458\u7c7b\u578b",dataIndex:"memberTypeName",key:"3"},{title:"\u6210\u5458\u5185\u5bb9\u7c7b\u578b",key:"4",render:function(e){return s.a.createElement("div",null,"URL"===e.contentType?s.a.createElement("span",null,"\u8d85\u94fe\u63a5"):s.a.createElement("span",null,"\u5bcc\u6587\u672c"))}},{title:"\u64cd\u4f5c",key:"5",render:function(e){return s.a.createElement("div",null,s.a.createElement("a",{onClick:n.editMenu.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u7f16\u8f91")," ",s.a.createElement("a",{onClick:n.deleteMenu.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u5220\u9664"))}}],loading:!1,typeList:[],type:"",formMemberType:"",total:0,current:1,defaultCurrent:1,pageSize:10,qiniuHost:"",qiniuToken:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this,a=sessionStorage.getItem("fuRuiAccount");a&&(a=JSON.parse(a)).account&&a.password&&this.setState({qiniuHost:a.qiniuHost,qiniuToken:a.qiniuToken}),F({}).then(function(a){0===a.code&&(a.data.splice(0,1),t.setState({typeList:a.data,type:a.data[0].type,formMemberType:a.data[0].type},function(){e.getMemberList(1)}))})}},{key:"getMemberList",value:function(e){var t=this;t.setState({loading:!0});var a,n={type:this.state.type,current:e,size:this.state.pageSize};(a=n,w("api/v1/member/query",a)).then(function(e){if(0===e.code){for(var a in e.data.list)e.data.list[a].key=a,e.data.list[a].memberTypeName=t.memberTypeScreen(e.data.list[a].memberType);t.setState({loading:!1,data:e.data.list,current:e.data.pageNo,pageSize:e.data.pageSize,total:e.data.totalCount})}})}},{key:"memberTypeScreen",value:function(e){var t="";return this.state.typeList.map(function(a){a.type===e&&(t=a.name)}),t}},{key:"setModalVisible",value:function(){this.setState({modalVisible:!1,id:""})}},{key:"addMenu",value:function(){sessionStorage.setItem("frzMemberEditId",""),this.props.history.push("/MemberEdit")}},{key:"editMenu",value:function(e){sessionStorage.setItem("frzMemberEditId",e.id),this.props.history.push("/MemberEdit")}},{key:"deleteMenu",value:function(e){var t=this;ve({title:"\u60a8\u786e\u8ba4\u8981\u5220\u9664"+e.memberName+"\u5417?",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onOk:function(){var a;(a={data:{id:e.id}},C("api/v1/member/delete",a)).then(function(e){0===e.code&&(T.a.success("\u5220\u9664\u6210\u529f\uff01"),t.getMemberList(1))})}})}},{key:"confirmFn",value:function(){var e=this;this.props.form.validateFields(function(t,a){if(!t){var n={id:e.state.id,memberName:a.memberName,url:a.url,memberImage:e.state.memberImage,memberType:e.state.formMemberType};e.props.dispatch(X(!0)),U(n).then(function(t){e.props.dispatch(X(!1)),0===t.code&&(T.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),e.setState({modalVisible:!1}),e.getMemberList(1))})}})}},{key:"selectChange",value:function(e){var t=this;this.setState({type:e},function(){t.getMemberList(1)})}},{key:"formSelectChange",value:function(e){this.setState({formMemberType:e})}},{key:"render",value:function(){var e=this,t=this,a=this.props.form.getFieldProps,n={name:"file",action:"http://up.qiniu.com",showUploadList:!1,accept:"image/gif,image/jpeg,image/png,image/jpg",listType:"picture",data:{token:t.state.qiniuToken},beforeUpload:function(e){var t=e.name.replace(/.+\./,"");if("gif"!=t.toLowerCase()&&"jpg"!=t.toLowerCase()&&"jpeg"!=t.toLowerCase()&&"png"!=t.toLowerCase())return T.a.error("\u6587\u4ef6\u7c7b\u578b\u9519\u8bef,\u8bf7\u4e0a\u4f20\u56fe\u7247\u7c7b\u578b\u683c\u5f0f\u6587\u4ef6\uff01"),!1},onChange:function(e){"uploading"!==e.file.status&&e.fileList[e.fileList.length-1].response&&t.setState({memberImage:e.fileList[e.fileList.length-1].response.key,memberImageUrl:t.state.qiniuHost+e.fileList[e.fileList.length-1].response.key}),"done"===e.file.status?T.a.success("".concat(e.file.name," \u4e0a\u4f20\u6210\u529f\u3002")):"error"===e.file.status&&(t.props.dispatch(W(!0)),T.a.error("".concat(e.file.name," \u4e0a\u4f20\u5931\u8d25!\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5")))}};return s.a.createElement("div",{className:"memberBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement("div",{className:"titleBox"},s.a.createElement(ue.a,{defaultValue:this.state.type,onChange:this.selectChange.bind(this),style:{width:200},value:this.state.type},this.state.typeList.map(function(e){return s.a.createElement(ye,{key:e.type,value:e.type},e.name)})),s.a.createElement(H.a,{onClick:this.addMenu.bind(this),type:"primary"},"\u65b0\u589e\u6210\u5458")),s.a.createElement(ee.a,{columns:this.state.columns,dataSource:this.state.data,loading:this.state.loading,pagination:{showQuickJumper:!0,defaultCurrent:this.state.defaultCurrent,total:this.state.total,current:this.state.current,pageSize:this.state.pageSize,onChange:function(e){t.getMemberList(e)}}})),s.a.createElement(te.a,{cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onCancel:function(){return e.setModalVisible()},onOk:function(){return e.confirmFn(!1)},title:this.state.modalTitle,visible:this.state.modalVisible,wrapClassName:"vertical-center-modal"},s.a.createElement(J.a,{className:"memberForm"},s.a.createElement(be,{label:"\u6210\u5458\u540d\u79f0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u6210\u5458\u540d\u79f0"},a("memberName",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:20,message:"\u6700\u591a\u8f93\u516520\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(be,{label:"\u8df3\u8f6c\u8def\u5f84"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u6210\u5458\u8df3\u8f6c\u8def\u5f84"},a("url",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:100,message:"\u6700\u591a\u8f93\u5165100\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement("div",{className:"newsTitle"},"\u6210\u5458\u7c7b\u578b:"),s.a.createElement(ue.a,{defaultValue:this.state.formMemberType,onChange:this.formSelectChange.bind(this),style:{width:200,marginBottom:24},value:this.state.formMemberType},this.state.typeList.map(function(e){return s.a.createElement(ye,{key:e.type,value:e.type},e.name)})),s.a.createElement("div",{className:"newsTitle"},"\u6210\u5458\u56fe\u7247:"),s.a.createElement(fe.a,n,s.a.createElement("div",{className:"uploadBox"},this.state.memberImageUrl?s.a.createElement("img",{src:this.state.memberImageUrl}):"",this.state.memberImageUrl?"":s.a.createElement(g.a,{type:"plus"}))))))}}]),t}(i.Component);ke=J.a.create()(ke);var Ee=Object(b.b)()(ke),Se=(a(160),a(51)),Te=a(174),Ne=a.n(Te),Oe=a(243),we=a(244),Ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={id:a.props.id?a.props.id:null,content:a.props.content?a.props.content:"",ueditor:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.UE,a=this.state,n=a.id,i=a.content;if(n){try{t.delEditor(n)}catch(o){}var s=t.getEditor(n,{autoHeightEnabled:!0,autoFloatEnabled:!0,imageScaleEnabled:!1,toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","|","rowspacingtop","rowspacingbottom","lineheight","|","customstyle","paragraph","fontfamily","fontsize","|","directionalityltr","directionalityrtl","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","|","touppercase","tolowercase","|","link","unlink","anchor","|","imagenone","imageleft","imageright","imagecenter","|","diyimg","emotion","map","insertcode","|","horizontal","date","time","spechars","snapscreen","wordimage","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","charts","|","print","preview","searchreplace","drafts","help"]]});s.ready(function(){s.setContent(i),s.commands.diyimg={execCommand:function(){var t=this,a=function(){var a=Object(Oe.a)(Ne.a.mark(function a(n){var i,s,r,o;return Ne.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=window.event||n,s=i.target.files[0],"gif"!=(r=s.name.replace(/.+\./,"")).toLowerCase()&&"jpg"!=r.toLowerCase()&&"jpeg"!=r.toLowerCase()&&"png"!=r.toLowerCase()){a.next=6;break}a.next=8;break;case 6:return T.a.error("\u6587\u4ef6\u7c7b\u578b\u9519\u8bef,\u8bf7\u4e0a\u4f20\u56fe\u7247\u7c7b\u578b\u683c\u5f0f\u6587\u4ef6\uff01"),a.abrupt("return",!1);case 8:return o=Date.parse(new Date)+Math.floor(1e3*Math.random()),a.next=11,we.upload(s,o,e.state.qiniuToken);case 11:a.sent.subscribe({error:function(t){e.props.dispatch(W(!0)),T.a.error("\u56fe\u7247\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5")},complete:function(a){t.execCommand("inserthtml",'<img src="'+e.state.qiniuHost+a.key+'" style="max-width: 100%"/>')},next:function(e){console.log("\u4e0a\u4f20\u4e2d,\u5df2\u4e0a\u4f20"+parseInt(e.total.percent)+"%")}});case 13:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),i=document.getElementById("diyimg_"+n);return i.onchange=a,i.click(),!0}},s.addListener("afterSelectionChange",function(){e.props.setContentFn(s.getContent())})}),this.setState({ueditor:s});var r=sessionStorage.getItem("fuRuiAccount");r&&(r=JSON.parse(r)).account&&r.password&&this.setState({qiniuHost:r.qiniuHost,qiniuToken:r.qiniuToken})}}},{key:"render",value:function(){var e=this.state.id;return s.a.createElement("div",null,s.a.createElement("textarea",{id:e,style:{width:"100%",lineHeight:"normal",position:"relative",zIndex:"2"}}),s.a.createElement("input",{type:"file",id:"diyimg_"+e,style:{display:"none"},accept:"image/gif,image/jpeg,image/png,image/jpg"}))}}]),t}(i.Component),je=Object(b.b)()(Ce),Ie=(a(529),J.a.Item),xe=Se.a.Group,qe=(P.a.TextArea,ue.a.Option),Le=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={id:"",typeList:[],editorShow:!1,memberImage:"",memberImageUrl:"",formMemberType:"",contentType:"URL",content:"",qiniuHost:"",qiniuToken:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("fuRuiAccount");t&&(t=JSON.parse(t)).account&&t.password&&this.setState({qiniuHost:t.qiniuHost,qiniuToken:t.qiniuToken}),F({}).then(function(t){0===t.code&&(t.data.splice(0,1),e.setState({typeList:t.data,formMemberType:t.data[0].type},function(){e.getDetailFn()}))})}},{key:"getDetailFn",value:function(){var e,t=this,a=sessionStorage.getItem("frzMemberEditId");a?(t.props.dispatch(X(!0)),(e={id:a},w("api/v1/member/info",e)).then(function(e){t.props.dispatch(X(!1)),0===e.code&&(t.props.form.setFieldsValue({memberName:e.data.memberName,url:e.data.url,searchTitle:e.data.searchTitle,desc:e.data.desc,keyword:e.data.keyword}),t.setState({id:e.data.id,memberImage:e.data.memberImage,memberImageUrl:e.data.memberImageUrl,formMemberType:e.data.memberType,contentType:e.data.contentType,content:e.data.content,editorShow:!0}))})):t.setState({editorShow:!0})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){if(!e){var n={id:t.state.id,memberName:a.memberName,url:a.url,searchTitle:a.searchTitle,desc:a.desc,keyword:a.keyword,memberImage:t.state.memberImage,memberType:t.state.formMemberType,contentType:t.state.contentType,content:t.state.content};if(n.memberImage){if("RICH_TEXT"===n.contentType){if(n.url="/memberInfo",!n.content||"<p><br></p>"===n.content)return void T.a.error("\u8bf7\u586b\u5199\u5bcc\u6587\u672c\u5185\u5bb9\uff01")}else n.content="";t.props.dispatch(X(!0)),U(n).then(function(e){t.props.dispatch(X(!1)),0===e.code&&(T.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),window.history.back())})}else T.a.error("\u8bf7\u4e0a\u4f20\u6210\u5458\u5c01\u9762\u56fe\uff01")}})}},{key:"goBackFn",value:function(){window.history.back()}},{key:"formSelectChange",value:function(e){this.setState({formMemberType:e})}},{key:"radioChangeFn",value:function(e){this.setState({contentType:e.target.value})}},{key:"setContentFn",value:function(e){this.setState({content:e})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldProps,a={name:"file",action:"http://up.qiniu.com",showUploadList:!1,accept:"image/gif,image/jpeg,image/png,image/jpg",listType:"picture",data:{token:e.state.qiniuToken},beforeUpload:function(e){var t=e.name.replace(/.+\./,"");if("gif"!=t.toLowerCase()&&"jpg"!=t.toLowerCase()&&"jpeg"!=t.toLowerCase()&&"png"!=t.toLowerCase())return T.a.error("\u6587\u4ef6\u7c7b\u578b\u9519\u8bef,\u8bf7\u4e0a\u4f20\u56fe\u7247\u7c7b\u578b\u683c\u5f0f\u6587\u4ef6\uff01"),!1},onChange:function(t){"uploading"!==t.file.status&&t.fileList[t.fileList.length-1].response&&e.setState({memberImage:t.fileList[t.fileList.length-1].response.key,memberImageUrl:e.state.qiniuHost+t.fileList[t.fileList.length-1].response.key}),"done"===t.file.status?T.a.success("".concat(t.file.name," \u4e0a\u4f20\u6210\u529f\u3002")):"error"===t.file.status&&(e.props.dispatch(W(!0)),T.a.error("".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25,\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5\uff01")))}};return s.a.createElement("div",{className:"MemberEditBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement(J.a,null,s.a.createElement(Ie,{label:"\u6210\u5458\u540d\u79f0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u6210\u5458\u540d\u79f0"},t("memberName",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:20,message:"\u6700\u591a\u8f93\u516520\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement("div",{className:"newsTitle"},"\u6210\u5458\u7c7b\u578b:"),s.a.createElement(ue.a,{defaultValue:this.state.formMemberType,onChange:this.formSelectChange.bind(this),style:{width:200,marginBottom:24},value:this.state.formMemberType},this.state.typeList.map(function(e){return s.a.createElement(qe,{key:e.type,value:e.type},e.name)})),s.a.createElement("div",{className:"newsTitle"},"\u6210\u5458\u5c01\u9762\u56fe:"),s.a.createElement(fe.a,a,s.a.createElement("div",{className:"uploadBox"},this.state.memberImageUrl?s.a.createElement("img",{src:this.state.memberImageUrl}):"",this.state.memberImageUrl?"":s.a.createElement(g.a,{type:"plus"}))),s.a.createElement(Ie,{label:"\u6210\u5458\u5185\u5bb9\u7c7b\u578b"},s.a.createElement(xe,{onChange:this.radioChangeFn.bind(this),value:this.state.contentType},s.a.createElement(Se.a,{value:"URL"},"\u8d85\u94fe\u63a5"),s.a.createElement(Se.a,{value:"RICH_TEXT"},"\u5bcc\u6587\u672c"))),"URL"===this.state.contentType?s.a.createElement(Ie,{label:"\u8df3\u8f6c\u8def\u5f84"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u6210\u5458\u8df3\u8f6c\u8def\u5f84"},t("url",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:100,message:"\u6700\u591a\u8f93\u5165100\u4e2a\u5b57\u7b26\uff01"}]})))):"","RICH_TEXT"===this.state.contentType?s.a.createElement("div",{className:"newsTitle"},"\u5bcc\u6587\u672c\u5185\u5bb9:"):"",s.a.createElement("div",{style:{display:"RICH_TEXT"===this.state.contentType?"block":"none"}},this.state.editorShow?s.a.createElement(je,{id:"myEditor",setContentFn:this.setContentFn.bind(this),content:this.state.content}):""),s.a.createElement(Ie,{label:"\u641c\u7d22\u6807\u9898"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u65b0\u95fb\u8d44\u8baf\u641c\u7d22\u6807\u9898"},t("searchTitle",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:40,message:"\u6700\u591a\u8f93\u516540\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(Ie,{label:"\u641c\u7d22\u63cf\u8ff0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u65b0\u95fb\u8d44\u8baf\u641c\u7d22\u63cf\u8ff0"},t("desc",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:40,message:"\u6700\u591a\u8f93\u516540\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(Ie,{label:"\u641c\u7d22\u5173\u952e\u5b57"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u65b0\u95fb\u8d44\u8baf\u641c\u7d22\u63cf\u8ff0"},t("keyword",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:40,message:"\u6700\u591a\u8f93\u516540\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(H.a,{className:"submitBtn",onClick:this.handleSubmit.bind(this),type:"primary"},"\u786e\u8ba4"),s.a.createElement(H.a,{className:"goBack",onClick:this.goBackFn.bind(this),type:"primary"},"\u8fd4\u56de\u4e0a\u4e00\u9875"))))}}]),t}(i.Component);Le=J.a.create()(Le);var Me=Object(b.b)()(Le),Fe=(a(225),J.a.Item),Ue=te.a.confirm,Be=ue.a.Option,Ve=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={modalVisible:!1,modalTitle:"\u7f16\u8f91\u5bfc\u822a\u680f",id:"",typeList:[],memberType:"NONE",data:[],columns:[{title:"\u5bfc\u822a\u680f\u540d\u79f0",key:"0",render:function(e){return s.a.createElement("span",{className:"linkNav",onClick:n.goMenuChildFn.bind(Object(oe.a)(Object(oe.a)(n)),e)},e.navigateName)}},{title:"\u5bfc\u822a\u680f\u8def\u5f84",dataIndex:"url",key:"1"},{title:"\u5b50\u5bfc\u822a\u6570",dataIndex:"child",key:"2"},{title:"\u6392\u5e8f",dataIndex:"sort",key:"3"},{title:"\u64cd\u4f5c",key:"4",render:function(e){return s.a.createElement("div",null,s.a.createElement("a",{onClick:n.editMenu.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u7f16\u8f91")," ","/"==e.url?"":s.a.createElement("a",{onClick:n.deleteMenuFn.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u5220\u9664"))}}],paginationShow:!1,loading:!1},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;F({}).then(function(a){0===a.code&&t.setState({typeList:a.data},function(){e.getMenuList()})})}},{key:"getMenuList",value:function(){var e,t=this;t.setState({loading:!0}),(e={},w("api/v1/navigate/query",e)).then(function(e){if(0===e.code){for(var a in e.data)e.data[a].key=a,e.data[a].child=e.data[a].subNavigates.length;t.setState({loading:!1,data:e.data})}})}},{key:"setModalVisible",value:function(){this.setState({modalVisible:!1,id:""})}},{key:"goMenuChildFn",value:function(e){sessionStorage.setItem("frzMenuId",e.id),this.props.history.push("/MenuChild")}},{key:"addMenu",value:function(){this.props.form.resetFields(),this.setState({modalVisible:!0,id:"",memberType:"NONE",modalTitle:"\u589e\u52a0\u5bfc\u822a\u680f"})}},{key:"editMenu",value:function(e){var t=this;L({id:e.id}).then(function(a){0===a.code&&(t.setState({modalVisible:!0,id:e.id,memberType:a.data.memberType?a.data.memberType:"NONE",modalTitle:"\u4fee\u6539\u5bfc\u822a\u680f"}),t.props.form.setFieldsValue({navigateName:a.data.navigateName,sort:a.data.sort,url:a.data.url}))})}},{key:"deleteMenuFn",value:function(e){var t=this;Ue({title:"\u60a8\u786e\u8ba4\u8981\u5220\u9664"+e.navigateName+"\u5417?",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onOk:function(){M({data:{id:e.id}}).then(function(e){0===e.code&&(T.a.success("\u5220\u9664\u6210\u529f\uff01"),t.getMenuList())})}})}},{key:"confirmFn",value:function(){var e=this;this.props.form.validateFields(function(t,a){if(!t){var n={id:e.state.id,sort:a.sort,navigateName:a.navigateName,memberType:e.state.memberType,url:a.url,navigateType:"URL"};e.props.dispatch(X(!0)),q(n).then(function(t){e.props.dispatch(X(!1)),0===t.code&&(T.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),e.setState({modalVisible:!1}),e.getMenuList())})}})}},{key:"memberTypeChange",value:function(e){this.setState({memberType:e})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldProps;return s.a.createElement("div",{className:"menuBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement("div",{className:"titleBox"},s.a.createElement(H.a,{onClick:this.addMenu.bind(this),type:"primary"},"\u65b0\u589e\u5bfc\u822a\u680f")),s.a.createElement(ee.a,{columns:this.state.columns,dataSource:this.state.data,loading:this.state.loading,pagination:this.state.paginationShow})),s.a.createElement(te.a,{cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onCancel:function(){return e.setModalVisible()},onOk:function(){return e.confirmFn(!1)},title:this.state.modalTitle,visible:this.state.modalVisible,wrapClassName:"vertical-center-modal"},s.a.createElement(J.a,null,s.a.createElement(Fe,{label:"\u5bfc\u822a\u680f\u540d\u79f0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u5bfc\u822a\u680f\u540d\u79f0"},t("navigateName",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:20,message:"\u6700\u591a\u8f93\u516520\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(Fe,{label:"\u5bfc\u822a\u680f\u5730\u5740"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u5bfc\u822a\u680f\u5730\u5740"},t("url",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:100,message:"\u6700\u591a\u8f93\u5165100\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(Fe,{label:"\u6210\u5458\u7c7b\u578b"},s.a.createElement(ue.a,{defaultValue:this.state.memberType,onChange:this.memberTypeChange.bind(this),style:{width:200},value:this.state.memberType},this.state.typeList.map(function(e){return s.a.createElement(Be,{key:e.type,value:e.type},e.name)}))),s.a.createElement(Fe,{label:"\u6392\u5e8f"},s.a.createElement($.a,Object.assign({className:"inputNum",min:1,max:100,placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f\u53f7\u7801"},t("sort",{rules:[{required:!0,message:"\u5fc5\u987b\u8f93\u5165\u6392\u5e8f\uff01"}]})))))))}}]),t}(i.Component);Ve=J.a.create()(Ve);var Ae=Object(b.b)()(Ve),ze=te.a.confirm,Re=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={modalVisible:!1,modalTitle:"\u7f16\u8f91\u5bfc\u822a\u680f",id:"",parentId:"",parentName:"",data:[],columns:[{title:"\u5bfc\u822a\u680f\u540d\u79f0",dataIndex:"navigateName",key:"0"},{title:"\u5bfc\u822a\u680f\u8def\u5f84",dataIndex:"url",key:"1"},{title:"\u5bfc\u822a\u680f\u7c7b\u578b",key:"2",render:function(e){return s.a.createElement("div",null,"URL"===e.navigateType?s.a.createElement("span",null,"\u8d85\u94fe\u63a5"):s.a.createElement("span",null,"\u5bcc\u6587\u672c"))}},{title:"\u6392\u5e8f",dataIndex:"sort",key:"3"},{title:"\u64cd\u4f5c",key:"4",render:function(e){return s.a.createElement("div",null,s.a.createElement("a",{onClick:n.editMenu.bind(Object(oe.a)(Object(oe.a)(n)),e.id)},"\u7f16\u8f91")," ",s.a.createElement("a",{onClick:n.deleteMenuFn.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u5220\u9664"))}}],paginationShow:!1,loading:!1},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("frzMenuId");this.getMenuList(e)}},{key:"getMenuList",value:function(e){var t=this;t.setState({loading:!0}),L({id:e}).then(function(e){if(0===e.code){for(var a in e.data.subNavigates)e.data.subNavigates[a].key=a;t.setState({loading:!1,parentId:e.data.id,parentName:e.data.navigateName,data:e.data.subNavigates})}})}},{key:"addMenu",value:function(){sessionStorage.setItem("frzMenuEditId",""),this.props.history.push("/MenuEdit")}},{key:"editMenu",value:function(e){sessionStorage.setItem("frzMenuEditId",e),this.props.history.push("/MenuEdit")}},{key:"deleteMenuFn",value:function(e){var t=this,a=t.state.parentId;ze({title:"\u60a8\u786e\u8ba4\u8981\u5220\u9664"+e.navigateName+"\u5417?",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onOk:function(){M({data:{id:e.id}}).then(function(e){0===e.code&&(T.a.success("\u5220\u9664\u6210\u529f\uff01"),t.getMenuList(a))})}})}},{key:"goBackFn",value:function(){window.history.back()}},{key:"render",value:function(){return s.a.createElement("div",{className:"menuBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement("div",{className:"titleBox"},s.a.createElement("span",{className:"leftTitle"},"\u5bfc\u822a\u680f\u7ba1\u7406"),s.a.createElement("span",{className:"nextTitle"},this.state.parentName),s.a.createElement(H.a,{onClick:this.addMenu.bind(this),type:"primary"},"\u65b0\u589e\u5bfc\u822a\u680f"),s.a.createElement(H.a,{onClick:this.goBackFn.bind(this),type:"primary"},"\u8fd4\u56de\u4e0a\u4e00\u9875")),s.a.createElement(ee.a,{columns:this.state.columns,dataSource:this.state.data,loading:this.state.loading,pagination:this.state.paginationShow})))}}]),t}(i.Component);Re=J.a.create()(Re);var He=Object(b.b)()(Re),De=(a(532),J.a.Item),Pe=Se.a.Group,Je=ue.a.Option,_e=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={parentId:"",id:"",editorShow:!1,richText:"",navigateType:"URL",typeList:[],memberType:"NONE",qiniuHost:"",qiniuToken:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("fuRuiAccount");t&&(t=JSON.parse(t)).account&&t.password&&this.setState({qiniuHost:t.qiniuHost,qiniuToken:t.qiniuToken});var a=sessionStorage.getItem("frzMenuId");e.setState({parentId:a}),F({}).then(function(t){0===t.code&&e.setState({typeList:t.data},function(){e.getDetailFn()})})}},{key:"getDetailFn",value:function(){var e=this,t=sessionStorage.getItem("frzMenuEditId");t?(e.props.dispatch(X(!0)),L({id:t}).then(function(t){e.props.dispatch(X(!1)),0===t.code&&(e.props.form.setFieldsValue({navigateName:t.data.navigateName,url:t.data.url,sort:t.data.sort}),e.setState({id:t.data.id,richText:t.data.richText,memberType:t.data.memberType?t.data.memberType:"NONE",navigateType:t.data.navigateType,editorShow:!0}))})):e.setState({editorShow:!0})}},{key:"radioChangeFn",value:function(e){this.setState({navigateType:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this,a=this;e.preventDefault(),this.props.form.validateFields(function(e,n){if(!e){var i={id:a.state.id,parentId:a.state.parentId,sort:n.sort,navigateName:n.navigateName,memberType:a.state.memberType,url:n.url,navigateType:t.state.navigateType,richText:a.state.richText};if("RICH_TEXT"===i.navigateType){if(i.url="/productCenter",!i.richText||"<p><br></p>"===i.richText)return void T.a.error("\u8bf7\u586b\u5199\u5bcc\u6587\u672c\u5185\u5bb9\uff01")}else i.richText="";a.props.dispatch(X(!0)),q(i).then(function(e){a.props.dispatch(X(!1)),0===e.code&&(T.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),window.history.back())})}})}},{key:"memberTypeChange",value:function(e){this.setState({memberType:e})}},{key:"goBackFn",value:function(){window.history.back()}},{key:"setContentFn",value:function(e){this.setState({richText:e})}},{key:"render",value:function(){var e=this.props.form.getFieldProps;return s.a.createElement("div",{className:"menuEditBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement(J.a,null,s.a.createElement(De,{label:"\u5bfc\u822a\u680f\u540d\u79f0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u5bfc\u822a\u680f\u540d\u79f0"},e("navigateName",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:20,message:"\u6700\u591a\u8f93\u516520\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(De,{label:"\u6210\u5458\u7c7b\u578b"},s.a.createElement(ue.a,{defaultValue:this.state.memberType,onChange:this.memberTypeChange.bind(this),style:{width:200},value:this.state.memberType},this.state.typeList.map(function(e){return s.a.createElement(Je,{key:e.type,value:e.type},e.name)}))),s.a.createElement(De,{label:"\u5bfc\u822a\u680f\u7c7b\u578b"},s.a.createElement(Pe,{onChange:this.radioChangeFn.bind(this),value:this.state.navigateType},s.a.createElement(Se.a,{value:"URL"},"\u8d85\u94fe\u63a5"),s.a.createElement(Se.a,{value:"RICH_TEXT"},"\u5bcc\u6587\u672c"))),"URL"===this.state.navigateType?s.a.createElement(De,{label:"\u5bfc\u822a\u680f\u5730\u5740"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u5bfc\u822a\u680f\u5730\u5740"},e("url",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:100,message:"\u6700\u591a\u8f93\u5165100\u4e2a\u5b57\u7b26\uff01"}]})))):"","RICH_TEXT"===this.state.navigateType?s.a.createElement("div",{className:"newsTitle"},"\u5bcc\u6587\u672c\u5185\u5bb9:"):"",s.a.createElement("div",{style:{display:"RICH_TEXT"===this.state.navigateType?"block":"none"}},this.state.editorShow?s.a.createElement(je,{id:"myEditor",setContentFn:this.setContentFn.bind(this),content:this.state.richText}):""),s.a.createElement(De,{label:"\u6392\u5e8f"},s.a.createElement($.a,Object.assign({className:"inputNum",min:1,max:100,placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f\u53f7\u7801"},e("sort",{rules:[{required:!0,message:"\u5fc5\u987b\u8f93\u5165\u6392\u5e8f\uff01"}]})))),s.a.createElement(H.a,{className:"submitBtn",onClick:this.handleSubmit.bind(this),type:"primary"},"\u786e\u8ba4"),s.a.createElement(H.a,{className:"goBack",onClick:this.goBackFn.bind(this),type:"primary"},"\u8fd4\u56de\u4e0a\u4e00\u9875"))))}}]),t}(i.Component);_e=J.a.create()(_e);var Ke=Object(b.b)()(_e),Qe=(a(534),te.a.confirm),Xe=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={modalVisible:!1,modalTitle:"\u7f16\u8f91\u65b0\u95fb\u8d44\u8baf",id:"",data:[],columns:[{title:"\u65b0\u95fb\u8d44\u8baf\u6807\u9898",dataIndex:"title",key:"0"},{title:"\u65b0\u95fb\u8d44\u8baf\u4ecb\u7ecd",dataIndex:"subtitle",key:"1"},{title:"\u65b0\u95fb\u8d44\u8baf\u56fe\u7247",key:"2",render:function(e){return s.a.createElement("img",{className:"newsCover",src:e.homeImgUrl})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"3"},{title:"\u64cd\u4f5c",key:"4",render:function(e){return s.a.createElement("div",null,s.a.createElement("a",{onClick:n.editMenu.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u7f16\u8f91")," ",s.a.createElement("a",{onClick:n.deleteMenu.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u5220\u9664"))}}],loading:!1,total:0,current:1,defaultCurrent:1,pageSize:10,homeImg:"",homeImgUrl:"",qiniuHost:"",qiniuToken:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("fuRuiAccount");e&&(e=JSON.parse(e)).account&&e.password&&this.setState({qiniuHost:e.qiniuHost,qiniuToken:e.qiniuToken}),this.getNewsList(1)}},{key:"getNewsList",value:function(e){var t=this;t.setState({loading:!0});var a,n={current:e,size:this.state.pageSize};(a=n,w("api/v1/news/query",a)).then(function(e){if(0===e.code){for(var a in e.data.list)e.data.list[a].key=a;t.setState({loading:!1,data:e.data.list,current:e.data.pageNo,pageSize:e.data.pageSize,total:e.data.totalCount})}})}},{key:"addMenu",value:function(){sessionStorage.setItem("frzNewsId",""),this.props.history.push("/NewsEdit")}},{key:"editMenu",value:function(e){sessionStorage.setItem("frzNewsId",e.id),this.props.history.push("/NewsEdit")}},{key:"deleteMenu",value:function(e){var t=this;Qe({title:"\u60a8\u786e\u8ba4\u8981\u5220\u9664"+e.title+"\u5417?",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onOk:function(){var a;(a={data:{id:e.id}},C("api/v1/news/delete",a)).then(function(e){0===e.code&&(T.a.success("\u5220\u9664\u6210\u529f\uff01"),t.getNewsList(1))})}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"newsBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement("div",{className:"titleBox"},s.a.createElement(H.a,{onClick:this.addMenu.bind(this),type:"primary"},"\u65b0\u589e\u65b0\u95fb\u8d44\u8baf")),s.a.createElement(ee.a,{columns:this.state.columns,dataSource:this.state.data,loading:this.state.loading,pagination:{showQuickJumper:!0,defaultCurrent:this.state.defaultCurrent,total:this.state.total,current:this.state.current,pageSize:this.state.pageSize,onChange:function(t){e.getNewsList(t)}}})))}}]),t}(i.Component);Xe=J.a.create()(Xe);var We=Object(b.b)()(Xe),Ye=(a(536),J.a.Item),Ge=P.a.TextArea,Ze=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={id:"",editorShow:!1,homeImg:"",homeImgUrl:"",content:"",qiniuHost:"",qiniuToken:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("fuRuiAccount");t&&(t=JSON.parse(t)).account&&t.password&&this.setState({qiniuHost:t.qiniuHost,qiniuToken:t.qiniuToken});var a,n=sessionStorage.getItem("frzNewsId");n?(e.props.dispatch(X(!0)),(a={id:n},w("api/v1/news/info",a)).then(function(t){e.props.dispatch(X(!1)),0===t.code&&(e.props.form.setFieldsValue({title:t.data.title,subtitle:t.data.subtitle,searchTitle:t.data.searchTitle,desc:t.data.desc,keyword:t.data.keyword}),e.setState({id:t.data.id,homeImg:t.data.homeImg,homeImgUrl:t.data.homeImgUrl,content:t.data.content})),e.setState({editorShow:!0})})):e.setState({editorShow:!0})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){if(!e){var n,i={id:t.state.id,title:a.title,subtitle:a.subtitle,searchTitle:a.searchTitle,desc:a.desc,keyword:a.keyword,homeImg:t.state.homeImg,content:t.state.content};if(i.homeImg)if(i.content&&"<p><br></p>"!==i.content)t.props.dispatch(X(!0)),(n=i,j("api/v1/news/save",n)).then(function(e){t.props.dispatch(X(!1)),0===e.code&&(T.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),window.history.back())});else T.a.error("\u8bf7\u586b\u5199\u65b0\u95fb\u8d44\u8baf\u5185\u5bb9\uff01");else T.a.error("\u8bf7\u4e0a\u4f20\u65b0\u95fb\u8d44\u8baf\u5c01\u9762\u56fe\uff01")}})}},{key:"goBackFn",value:function(){window.history.back()}},{key:"setContentFn",value:function(e){this.setState({content:e})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldProps,a={name:"file",action:"http://up.qiniu.com",showUploadList:!1,accept:"image/gif,image/jpeg,image/png,image/jpg",listType:"picture",data:{token:e.state.qiniuToken},beforeUpload:function(e){var t=e.name.replace(/.+\./,"");if("gif"!=t.toLowerCase()&&"jpg"!=t.toLowerCase()&&"jpeg"!=t.toLowerCase()&&"png"!=t.toLowerCase())return T.a.error("\u6587\u4ef6\u7c7b\u578b\u9519\u8bef,\u8bf7\u4e0a\u4f20\u56fe\u7247\u7c7b\u578b\u683c\u5f0f\u6587\u4ef6\uff01"),!1},onChange:function(t){"uploading"!==t.file.status&&t.fileList[t.fileList.length-1].response&&e.setState({homeImg:t.fileList[t.fileList.length-1].response.key,homeImgUrl:e.state.qiniuHost+t.fileList[t.fileList.length-1].response.key}),"done"===t.file.status?T.a.success("".concat(t.file.name," \u4e0a\u4f20\u6210\u529f\u3002")):"error"===t.file.status&&(e.props.dispatch(W(!0)),T.a.error("".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25,\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5\uff01")))}};return s.a.createElement("div",{className:"newsEditBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement(J.a,null,s.a.createElement(Ye,{label:"\u65b0\u95fb\u8d44\u8baf\u6807\u9898"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u65b0\u95fb\u8d44\u8baf\u6807\u9898"},t("title",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:40,message:"\u6700\u591a\u8f93\u516540\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement("div",{className:"newsTitle"},"\u65b0\u95fb\u8d44\u8baf\u5c01\u9762\u56fe:"),s.a.createElement(fe.a,a,s.a.createElement("div",{className:"uploadBox"},this.state.homeImgUrl?s.a.createElement("img",{src:this.state.homeImgUrl}):"",this.state.homeImgUrl?"":s.a.createElement(g.a,{type:"plus"}))),s.a.createElement(Ye,{label:"\u65b0\u95fb\u8d44\u8baf\u7b80\u4ecb"},s.a.createElement(Ge,Object.assign({autosize:!0,placeholder:"\u8bf7\u8f93\u5165\u65b0\u95fb\u8d44\u8baf\u7b80\u4ecb"},t("subtitle",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:300,message:"\u6700\u591a\u8f93\u5165300\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement("div",{className:"newsTitle"},"\u65b0\u95fb\u8d44\u8baf\u5185\u5bb9:"),this.state.editorShow?s.a.createElement(je,{id:"myEditor",setContentFn:this.setContentFn.bind(this),content:this.state.content}):"",s.a.createElement(Ye,{label:"\u641c\u7d22\u6807\u9898"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u65b0\u95fb\u8d44\u8baf\u641c\u7d22\u6807\u9898"},t("searchTitle",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:40,message:"\u6700\u591a\u8f93\u516540\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(Ye,{label:"\u641c\u7d22\u63cf\u8ff0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u65b0\u95fb\u8d44\u8baf\u641c\u7d22\u63cf\u8ff0"},t("desc",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:40,message:"\u6700\u591a\u8f93\u516540\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(Ye,{label:"\u641c\u7d22\u5173\u952e\u5b57"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u65b0\u95fb\u8d44\u8baf\u641c\u7d22\u63cf\u8ff0"},t("keyword",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:40,message:"\u6700\u591a\u8f93\u516540\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(H.a,{className:"submitBtn",onClick:this.handleSubmit.bind(this),type:"primary"},"\u786e\u8ba4"),s.a.createElement(H.a,{className:"goBack",onClick:this.goBackFn.bind(this),type:"primary"},"\u8fd4\u56de\u4e0a\u4e00\u9875"))))}}]),t}(i.Component);Ze=J.a.create()(Ze);var $e=Object(b.b)()(Ze),et=(a(538),J.a.Item),tt=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={id:"",qiniuHost:"",avatar:"FlaSfW3iqckj-0abHkRNLi-zW43F",avatarUrl:"",fileList:[],qiniuToken:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("fuRuiAccount");e&&(e=JSON.parse(e)).account&&e.password&&(this.props.form.setFieldsValue({account:e.account,password:e.password,userName:e.userName}),this.setState({id:e.id}))}},{key:"rsaFn",value:function(e){var t=new _.JSEncrypt;t.setPublicKey("MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKy3VA7wu/gU1J6ajXn5iXVygHZ3ikTiUPrrYZhYrr1KfXFuBC/nCMIxUGFcIHcvKWPr2RPu1iyq0a9WuljHQckCAwEAAQ==");var a=t.encrypt(e);return a=encodeURIComponent(a)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){if(!e){var n,i={id:t.state.id,account:a.account,password:t.rsaFn(a.password),userName:a.userName};t.props.dispatch(X(!0)),(n=i,j("api/v1/user/save",n)).then(function(e){t.props.dispatch(X(!1)),0===e.code&&(T.a.success("\u4fee\u6539\u6210\u529f\uff01"),setTimeout(function(){sessionStorage.removeItem("fuRuiAccount"),localStorage.removeItem("fuRuiAccount"),t.props.history.push("/")},1e3))})}})}},{key:"render",value:function(){var e=this.props.form.getFieldProps;return s.a.createElement("div",{className:"userBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement(J.a,{inline:"true"},s.a.createElement(et,{label:"\u7528\u6237\u6635\u79f0"},s.a.createElement(P.a,Object.assign({disabled:!0,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},e("userName",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:20,message:"\u6700\u591a\u8f93\u516520\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(et,{label:"\u767b\u5f55\u8d26\u53f7"},s.a.createElement(P.a,Object.assign({disabled:!0,placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7\u540d"},e("account",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:20,message:"\u6700\u591a\u8f93\u516520\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(et,{label:"\u767b\u5f55\u5bc6\u7801"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"},e("password",{rules:[{required:!0,min:6,message:"\u81f3\u5c11\u8f93\u51656\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:20,message:"\u6700\u591a\u8f93\u516520\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(H.a,{onClick:this.handleSubmit.bind(this),type:"primary"},"\u66f4\u65b0\u8d26\u6237"))))}}]),t}(i.Component);tt=J.a.create()(tt);var at=Object(b.b)()(tt),nt=(a(540),J.a.Item),it=te.a.confirm,st=ue.a.Option,rt=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={modalVisible:!1,modalTitle:"\u7f16\u8f91banner",id:"",image:"",imageUrl:"",data:[],columns:[{title:"banner\u540d\u79f0",dataIndex:"title",key:"0"},{title:"banner\u56fe\u7247",key:"1",render:function(e){return s.a.createElement("img",{className:"bannerCover",src:e.imageUrl})}},{title:"\u63cf\u8ff0",dataIndex:"desc",width:"300px",key:"2"},{title:"\u6392\u5e8f",dataIndex:"sort",key:"3"},{title:"banner\u72b6\u6001",key:"4",render:function(e){return s.a.createElement("div",null,"YES"===e.isShow?s.a.createElement("span",null,"\u663e\u793a"):s.a.createElement("span",null,"\u4e0d\u663e\u793a"))}},{title:"\u64cd\u4f5c",key:"5",render:function(e){return s.a.createElement("div",null,s.a.createElement("a",{onClick:n.editMenu.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u7f16\u8f91")," ",s.a.createElement("a",{onClick:n.deleteMenu.bind(Object(oe.a)(Object(oe.a)(n)),e)},"\u5220\u9664"))}}],loading:!1,conditionIsShow:"",isShow:"YES",title:"",total:0,current:1,defaultCurrent:1,pageSize:10,qiniuHost:"",qiniuToken:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("fuRuiAccount");e&&(e=JSON.parse(e)).account&&e.password&&this.setState({qiniuHost:e.qiniuHost,qiniuToken:e.qiniuToken}),this.getMemberList(1)}},{key:"getMemberList",value:function(e){var t=this;t.setState({loading:!0});var a,n={isShow:this.state.conditionIsShow,title:this.state.title,current:e,size:this.state.pageSize};(a=n,w("api/v1/banner/query",a)).then(function(e){if(0===e.code){for(var a in e.data.list)e.data.list[a].key=a;t.setState({loading:!1,data:e.data.list,current:e.data.pageNo,pageSize:e.data.pageSize,total:e.data.totalCount})}})}},{key:"setModalVisible",value:function(){this.setState({modalVisible:!1,id:""})}},{key:"addMenu",value:function(){this.props.form.resetFields(),this.setState({modalVisible:!0,id:"",isShow:"YES",image:"",imageUrl:"",modalTitle:"\u589e\u52a0banner"}),this.props.form.setFieldsValue({title:"",desc:"",sort:1})}},{key:"editMenu",value:function(e){this.setState({modalVisible:!0,id:e.id,image:e.image,imageUrl:e.imageUrl,isShow:e.isShow,modalTitle:"\u4fee\u6539banner"}),this.props.form.setFieldsValue({title:e.title,desc:e.desc,sort:e.sort})}},{key:"deleteMenu",value:function(e){var t=this;it({title:"\u60a8\u786e\u8ba4\u8981\u5220\u9664"+e.title+"\u5417?",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onOk:function(){var a;(a={data:{id:e.id}},C("api/v1/banner/delete",a)).then(function(e){0===e.code&&(T.a.success("\u5220\u9664\u6210\u529f\uff01"),t.getMemberList(1))})}})}},{key:"confirmFn",value:function(){var e=this;this.props.form.validateFields(function(t,a){if(!t){var n,i={id:e.state.id,title:a.title,desc:a.desc,sort:a.sort,image:e.state.image,isShow:e.state.isShow};e.props.dispatch(X(!0)),(n=i,j("api/v1/banner/save",n)).then(function(t){e.props.dispatch(X(!1)),0===t.code&&(T.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),e.setState({modalVisible:!1}),e.getMemberList(1))})}})}},{key:"selectChange",value:function(e){this.setState({conditionIsShow:e})}},{key:"editChange",value:function(e){this.setState({isShow:e})}},{key:"render",value:function(){var e=this,t=this,a=this.props.form.getFieldProps,n={name:"file",action:"http://up.qiniu.com",showUploadList:!1,accept:"image/gif,image/jpeg,image/png,image/jpg",listType:"picture",data:{token:t.state.qiniuToken},beforeUpload:function(e){var t=e.name.replace(/.+\./,"");if("gif"!=t.toLowerCase()&&"jpg"!=t.toLowerCase()&&"jpeg"!=t.toLowerCase()&&"png"!=t.toLowerCase())return T.a.error("\u6587\u4ef6\u7c7b\u578b\u9519\u8bef,\u8bf7\u4e0a\u4f20\u56fe\u7247\u7c7b\u578b\u683c\u5f0f\u6587\u4ef6\uff01"),!1},onChange:function(e){"uploading"!==e.file.status&&e.fileList[e.fileList.length-1].response&&t.setState({image:e.fileList[e.fileList.length-1].response.key,imageUrl:t.state.qiniuHost+e.fileList[e.fileList.length-1].response.key}),"done"===e.file.status?T.a.success("".concat(e.file.name," \u4e0a\u4f20\u6210\u529f\u3002")):"error"===e.file.status&&(t.props.dispatch(W(!0)),T.a.error("".concat(e.file.name," \u4e0a\u4f20\u5931\u8d25!\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5")))}};return s.a.createElement("div",{className:"bannerBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement("div",{className:"titleBox"},s.a.createElement(ue.a,{defaultValue:this.state.conditionIsShow,onChange:this.selectChange.bind(this),style:{width:200},value:this.state.conditionIsShow},s.a.createElement(st,{value:""},"\u5168\u90e8"),s.a.createElement(st,{value:"YES"},"\u663e\u793a"),s.a.createElement(st,{value:"NO"},"\u4e0d\u663e\u793a")),s.a.createElement(P.a,{placeholder:"\u8bf7\u8f93\u5165banner\u540d\u79f0",defaultValue:this.state.title,onChange:function(t){e.state.title=t.target.value},className:"searchInput"}),s.a.createElement(H.a,{type:"primary",onClick:this.getMemberList.bind(this,1)},"\u641c\u7d22"),s.a.createElement(H.a,{onClick:this.addMenu.bind(this),className:"add",type:"primary"},"\u65b0\u589ebanner")),s.a.createElement(ee.a,{columns:this.state.columns,dataSource:this.state.data,loading:this.state.loading,pagination:{showQuickJumper:!0,defaultCurrent:this.state.defaultCurrent,total:this.state.total,current:this.state.current,pageSize:this.state.pageSize,onChange:function(e){t.getMemberList(e)}}})),s.a.createElement(te.a,{cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onCancel:function(){return e.setModalVisible()},onOk:function(){return e.confirmFn(!1)},title:this.state.modalTitle,visible:this.state.modalVisible,wrapClassName:"vertical-center-modal"},s.a.createElement(J.a,{className:"bannerForm"},s.a.createElement(nt,{label:"banner\u540d\u79f0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165banner\u540d\u79f0"},a("title",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:40,message:"\u6700\u591a\u8f93\u516540\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement("div",{className:"newsTitle"},"banner\u56fe\u7247:"),s.a.createElement(fe.a,n,s.a.createElement("div",{className:"uploadBox"},this.state.imageUrl?s.a.createElement("img",{src:this.state.imageUrl}):"",this.state.imageUrl?"":s.a.createElement(g.a,{type:"plus"}))),s.a.createElement(nt,{label:"banner\u63cf\u8ff0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165banner\u63cf\u8ff0"},a("desc",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{required:!0,max:100,message:"\u6700\u591a\u8f93\u5165100\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(nt,{label:"banner\u6392\u5e8f"},s.a.createElement($.a,Object.assign({className:"inputNum",min:1,max:100,placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f\u53f7\u7801"},a("sort",{rules:[{required:!0,message:"\u5fc5\u987b\u8f93\u5165\u6392\u5e8f\uff01"}]})))),s.a.createElement("div",{className:"newsTitle"},"banner\u72b6\u6001:"),s.a.createElement(ue.a,{defaultValue:this.state.isShow,onChange:this.editChange.bind(this),style:{width:200},value:this.state.isShow},s.a.createElement(st,{value:"YES"},"\u663e\u793a"),s.a.createElement(st,{value:"NO"},"\u4e0d\u663e\u793a")))))}}]),t}(i.Component);rt=J.a.create()(rt);var ot=Object(b.b)()(rt),lt=(a(542),J.a.Item),ct=P.a.TextArea,ut=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).state={id:"",logo:"",logoUrl:"",companyProfile:"",officeAddress:"",editorShow:!1,qiniuHost:"",qiniuToken:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("fuRuiAccount");t&&(t=JSON.parse(t)).account&&t.password&&this.setState({qiniuHost:t.qiniuHost,qiniuToken:t.qiniuToken}),e.props.dispatch(X(!0)),B({current:1,size:10}).then(function(t){e.props.dispatch(X(!1)),0===t.code?(e.props.form.setFieldsValue({companyName:t.data.list[0].companyName,phoneNumber:t.data.list[0].phoneNumber,address:t.data.list[0].address,fax:t.data.list[0].fax,caseNumber:t.data.list[0].caseNumber,zipCode:t.data.list[0].zipCode,remarks:t.data.list[0].remarks}),e.setState({id:t.data.list[0].id,logo:t.data.list[0].logo,companyProfile:t.data.list[0].companyProfile,officeAddress:t.data.list[0].officeAddress,logoUrl:t.data.list[0].logoUrl,editorShow:!0})):e.setState({editorShow:!0})})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){if(e)T.a.error("\u8fd8\u6709\u90e8\u5206\u4fe1\u606f\u586b\u5199\u9519\u8bef\u54e6\uff01");else{var n,i={id:t.state.id,companyName:a.companyName,phoneNumber:a.phoneNumber,address:a.address,caseNumber:a.caseNumber,zipCode:a.zipCode?a.zipCode:"",remarks:a.remarks?a.remarks:"",fax:a.fax?a.fax:"",logo:t.state.logo,companyProfile:t.state.companyProfile,officeAddress:t.state.officeAddress};if(i.zipCode){if(!/^[1-9][0-9]{5}$/.test(i.zipCode))return void T.a.error("\u90ae\u7f16\u53f7\u7801\u683c\u5f0f\u9519\u8bef\uff01")}if(i.fax){if(!/^(\d{3,4}-)?\d{7,8}$/.test(i.fax))return void T.a.error("\u4f20\u771f\u53f7\u7801\u683c\u5f0f\u9519\u8bef\uff01")}(n=i,j("api/v1/company/save",n)).then(function(e){0===e.code&&(document.documentElement.scrollTop=0,T.a.success("\u4fee\u6539\u6210\u529f\uff01"))})}})}},{key:"checkPhoneNumber",value:function(e,t,a){/^(0|86|17951)?(13[0-9]|15[012356789]|17[012345678]|18[0-9]|14[56789]|19[89]|166)[0-9]{8}$/.test(t)||""==t?a():a([new Error("\u7535\u8bdd\u53f7\u7801\u683c\u5f0f\u9519\u8bef\uff01")])}},{key:"setContentFn",value:function(e,t){"1"==e?this.setState({companyProfile:t}):this.setState({officeAddress:t})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldProps,a=t("phoneNumber",{rules:[{required:!0,message:"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a\uff01"},{validator:this.checkPhoneNumber}]}),n={name:"file",action:"http://up.qiniu.com",showUploadList:!1,accept:"image/gif,image/jpeg,image/png,image/jpg",listType:"picture",data:{token:e.state.qiniuToken},beforeUpload:function(e){var t=e.name.replace(/.+\./,"");if("gif"!=t.toLowerCase()&&"jpg"!=t.toLowerCase()&&"jpeg"!=t.toLowerCase()&&"png"!=t.toLowerCase())return T.a.error("\u6587\u4ef6\u7c7b\u578b\u9519\u8bef,\u8bf7\u4e0a\u4f20\u56fe\u7247\u7c7b\u578b\u683c\u5f0f\u6587\u4ef6\uff01"),!1},onChange:function(t){"uploading"!==t.file.status&&t.fileList[t.fileList.length-1].response&&e.setState({logo:t.fileList[t.fileList.length-1].response.key,logoUrl:e.state.qiniuHost+t.fileList[t.fileList.length-1].response.key}),"done"===t.file.status?T.a.success("".concat(t.file.name," \u4e0a\u4f20\u6210\u529f\u3002")):"error"===t.file.status&&(e.props.dispatch(W(!0)),T.a.error("".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25,\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5\uff01")))}};return s.a.createElement("div",{className:"newsEditBox"},s.a.createElement("div",{className:"contentBox"},s.a.createElement(J.a,null,s.a.createElement(lt,{label:"\u516c\u53f8\u540d\u79f0"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"},t("companyName",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{max:30,message:"\u6700\u591a\u8f93\u516530\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(lt,{label:"\u516c\u53f8\u7535\u8bdd"},s.a.createElement(P.a,Object.assign({className:"inputNum",placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u7535\u8bdd"},a))),s.a.createElement(lt,{label:"\u516c\u53f8\u5730\u5740"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u5730\u5740"},t("address",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{max:100,message:"\u6700\u591a100\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(lt,{label:"\u516c\u53f8\u90ae\u7f16"},s.a.createElement($.a,Object.assign({className:"inputNum",placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u90ae\u7f16"},t("zipCode")))),s.a.createElement(lt,{label:"\u516c\u53f8\u4f20\u771f"},s.a.createElement(P.a,Object.assign({className:"inputNum",placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u4f20\u771f"},t("fax")))),s.a.createElement(lt,{label:"\u516c\u53f8LOGO"},s.a.createElement(fe.a,n,s.a.createElement("div",{className:"uploadBox"},this.state.logoUrl?s.a.createElement("img",{src:this.state.logoUrl}):"",this.state.logoUrl?"":s.a.createElement(g.a,{type:"plus"})))),s.a.createElement(lt,{label:"\u516c\u53f8\u7b80\u4ecb"},this.state.editorShow?s.a.createElement(je,{id:"companyProfile",setContentFn:this.setContentFn.bind(this,"1"),content:this.state.companyProfile}):""),s.a.createElement(lt,{label:"\u5907\u6ce8"},s.a.createElement(ct,Object.assign({autosize:!0,placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8"},t("remarks")))),s.a.createElement(lt,{label:"\u529e\u516c\u5730\u5740"},this.state.editorShow?s.a.createElement(je,{id:"officeAddress",setContentFn:this.setContentFn.bind(this,"2"),content:this.state.officeAddress}):""),s.a.createElement(lt,{label:"\u7f51\u7ad9\u5907\u6848\u53f7"},s.a.createElement(P.a,Object.assign({placeholder:"\u8bf7\u8f93\u5165\u7f51\u7ad9\u5907\u6848\u53f7"},t("caseNumber",{rules:[{required:!0,min:1,message:"\u81f3\u5c11\u8f93\u51651\u4e2a\u5b57\u7b26\uff01"},{max:100,message:"\u6700\u591a100\u4e2a\u5b57\u7b26\uff01"}]})))),s.a.createElement(H.a,{className:"submitBtn",onClick:this.handleSubmit.bind(this),type:"primary"},"\u786e\u8ba4\u4fee\u6539"))))}}]),t}(i.Component);ut=J.a.create()(ut);var mt=Object(b.b)()(ut),dt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={navigateShow:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.history.location.pathname;this.checkPathFn(e),this.setTitleFn()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=this.props.history.location.pathname;this.checkPathFn(e),this.setTitleFn()}},{key:"setTitleFn",value:function(){switch(sessionStorage.getItem("fuRuiNavKey")){case"/":document.title="\u767b\u5f55";break;case"/Home":document.title="\u83dc\u5355\u7ba1\u7406";break;case"/CompanyInfo":document.title="\u516c\u53f8\u7ba1\u7406";break;case"/FriendshipLink":document.title="\u53cb\u60c5\u94fe\u63a5";break;case"/Member":document.title="\u6210\u5458\u7ba1\u7406";break;case"/Menu":document.title="\u5bfc\u822a\u680f\u7ba1\u7406";break;case"/News":document.title="\u65b0\u95fb\u8d44\u8baf";break;case"/User":document.title="\u7528\u6237\u7ba1\u7406";break;default:document.title="\u798f\u745e\u81f3"}}},{key:"loadingShowFn",value:function(){if(this.props.loadingChangeData.loadingStatus)return s.a.createElement("div",{id:"loadingBox"},s.a.createElement(l.a,null))}},{key:"getQiniuTokenFn",value:function(){var e=this,t=this.props.qiniuChangeData.qiniuStatus,a=sessionStorage.getItem("fuRuiAccount");t&&a&&I().then(function(t){0===t.code&&((a=JSON.parse(a)).qiniuHost=t.data.host+"/",a.qiniuToken=t.data.token,sessionStorage.setItem("fuRuiAccount",JSON.stringify(a))),e.props.dispatch(W(!1))})}},{key:"checkPathFn",value:function(e){"/"===e?this.setState({navigateShow:!1}):this.setState({navigateShow:!0})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},this.state.navigateShow?s.a.createElement(E,this.props):"",this.state.navigateShow?s.a.createElement(A,{pathName:this.props.history.location.pathname}):"",this.loadingShowFn(),this.getQiniuTokenFn(),s.a.createElement("div",{id:"appContent"},s.a.createElement("div",null,s.a.createElement(z.a,null,s.a.createElement(R.a,{component:Z,exact:!0,path:"/"}),s.a.createElement(R.a,{component:se,path:"/Home"}),s.a.createElement(R.a,{component:ce,path:"/Company"}),s.a.createElement(R.a,{component:mt,path:"/CompanyInfo"}),s.a.createElement(R.a,{component:ge,path:"/FriendshipLink"}),s.a.createElement(R.a,{component:Ee,path:"/Member"}),s.a.createElement(R.a,{component:Me,path:"/MemberEdit"}),s.a.createElement(R.a,{component:Ae,path:"/Menu"}),s.a.createElement(R.a,{component:He,path:"/MenuChild"}),s.a.createElement(R.a,{component:Ke,path:"/MenuEdit"}),s.a.createElement(R.a,{component:We,path:"/News"}),s.a.createElement(R.a,{component:$e,path:"/NewsEdit"}),s.a.createElement(R.a,{component:at,path:"/User"}),s.a.createElement(R.a,{component:ot,path:"/Banner"})))))}}]),t}(i.Component),pt=Object(b.b)(function(e){return{loadingChangeData:e.loadingChangeData,qiniuChangeData:e.qiniuChangeData}})(dt),ht=a(547);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var gt=a(81),ft=a(246),bt=a(247),vt={loadingStatus:!1};function yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object.assign({},e,t.data);default:return e}}var kt={qiniuStatus:!1};function Et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object.assign({},e,t.data);default:return e}}var St=Object(gt.c)(Object(bt.a)({},n)),Tt=Object(gt.a)(ft.a),Nt=Object(gt.d)(St,Tt);o.a.render(s.a.createElement(b.a,{store:Nt},s.a.createElement(ht.a,null,s.a.createElement(R.a,{component:pt,path:"/"}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[249,2,1]]]);
//# sourceMappingURL=main.6ec38164.chunk.js.map